<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>301.st · Cloudflare Setup Wizard</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="alternate icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/theme.css" />
    <link rel="stylesheet" href="/css/layout.css" />
    <link rel="stylesheet" href="/css/site.css" />
  </head>
  <body>
    <header class="site-header" role="banner">
      <div class="page-shell site-header__inner">
        <a class="brand" href="/" aria-label="301.st">
          <img src="/img/301-full.svg" alt="301.st" width="80" height="32" />
        </a>

        <nav class="primary-nav" aria-label="Primary">
          <a href="/" data-i18n="layout.nav.home">Home</a>
          <a href="/ui-style-guide.html" data-i18n="layout.nav.guide">UI style guide</a>
        </nav>

        <div class="header-actions">
          <nav class="btn-chip-group lang-switcher" aria-label="Language selection" data-i18n-aria="layout.lang.label">
            <button
              type="button"
              class="btn-chip is-active"
              data-lang="en"
              data-i18n="layout.lang.en"
              aria-pressed="true"
            >
              EN
            </button>
            <button type="button" class="btn-chip" data-lang="ru" data-i18n="layout.lang.ru" aria-pressed="false">RU</button>
          </nav>

          <button class="btn-icon btn-icon--compact theme" aria-label="Toggle theme" data-theme-toggle data-i18n-aria="layout.nav.theme">
            <span class="icon" data-icon="mono/sun"></span>
          </button>
        </div>
      </div>

      <div class="utility-bar">
        <div class="page-shell utility-bar__inner">
          <div class="utility-left">
            <nav class="breadcrumbs" aria-label="Breadcrumb">
              <a href="/" class="crumb"
                ><span class="icon" data-icon="mono/home"></span> <span data-i18n="layout.nav.home">Home</span></a
              >
              <span class="sep" aria-hidden="true">›</span>
              <a href="/dashboard.html" class="crumb">Dashboard</a>
              <span class="sep" aria-hidden="true">›</span>
              <span class="crumb is-current">Cloudflare Setup</span>

              <span class="badges">
                <span class="badge badge--cf">Cloudflare</span>
              </span>
            </nav>
          </div>

          <div class="utility-right">
            <a class="btn btn--ghost" href="#help" aria-label="Help" data-i18n="layout.nav.help">Help</a>

            <button class="btn-chip btn-chip--input" type="button" data-onlogin aria-label="User" hidden>
              <span class="btn-chip__icon" data-icon="mono/user"></span>
              <span class="btn-chip__label" data-user-name data-i18n="layout.nav.guest">Guest</span>
            </button>

            <button class="btn btn--ghost" type="button" data-onlogin data-action="logout" data-i18n="auth.logout" hidden>
              Log out
            </button>
          </div>
        </div>
      </div>
    </header>

    <main class="page-shell app-shell">
      <aside class="sidebar" id="app-sidebar">
        <div class="sidebar__head">
          <button class="btn-icon btn-icon--compact" type="button" aria-label="Collapse" data-sidebar-toggle>
            <span class="icon" data-icon="mono/chevron-up"></span>
          </button>
        </div>

        <nav class="sidebar__nav">
          <a class="navitem" href="/dashboard.html">
            <span class="icon" data-icon="mono/home"></span>
            <span class="label">Overview</span>
          </a>

          <div class="navgroup">Management</div>
          <a class="navitem" href="#domains">
            <span class="icon" data-icon="mono/dns"></span>
            <span class="label">Domains</span>
          </a>
          <a class="navitem" href="#security">
            <span class="icon" data-icon="mono/shield-account"></span>
            <span class="label">Security</span>
          </a>
          <a class="navitem" href="#caching">
            <span class="icon" data-icon="mono/layers"></span>
            <span class="label">Caching</span>
          </a>

          <div class="sidebar__spacer"></div>

          <a class="navitem" href="#settings">
            <span class="icon" data-icon="mono/project"></span>
            <span class="label">Settings</span>
          </a>
        </nav>
      </aside>

      <section class="content">
        <header class="page-header">
          <h1 class="h3" data-i18n="cf.wizard.title">Cloudflare Account Bootstrap</h1>
          <p class="text-muted" data-i18n="cf.wizard.subtitle">
            Step 1 · Paste your Account ID and Bootstrap API token.
          </p>
        </header>

        <div class="stack" style="gap: var(--space-4); max-width: 800px">
          <article class="card card--panel">
            <div class="card__body stack" style="gap: var(--space-3)">
              <div class="avatar-preview">
                <div class="avatar-ring avatar-ring--cloudflare">
                  <svg class="avatar-icon" aria-hidden="true" focusable="false">
                    <use href="#i-brand-cloudflare"></use>
                  </svg>
                  <span class="sr-only">Cloudflare</span>
                </div>
                <p class="avatar-meta" data-i18n="cf.wizard.avatarMeta">
                  Orange actions below are reserved for Cloudflare-level changes.
                </p>
              </div>

              <form data-form="cf-bootstrap">
                <div class="field">
                  <label class="field-label" data-i18n="cf.wizard.accountIdLabel">Cloudflare Account ID</label>
                  <input
                    class="input"
                    type="text"
                    name="cf_account_id"
                    autocomplete="off"
                    data-i18n-placeholder="cf.wizard.accountIdPlaceholder"
                    placeholder="e.g. 1234567890abcdef1234567890abcdef"
                    required
                    aria-describedby="cf-status"
                  />
                </div>

                <div class="field">
                  <label class="field-label" data-i18n="cf.wizard.tokenLabel">Bootstrap API token</label>
                  <textarea
                    class="textarea"
                    name="cf_bootstrap_token"
                    rows="4"
                    data-i18n-placeholder="cf.wizard.tokenPlaceholder"
                    placeholder="Paste token with 'Account API Tokens: Edit' scope…"
                    required
                    aria-describedby="cf-token-hint cf-status"
                  ></textarea>
                  <p class="field-help text-muted" id="cf-token-hint" data-i18n="cf.wizard.tokenHint">
                    Created as <code>301st Bootstrap</code> with <em>Account API Tokens: Edit</em> permission.
                  </p>
                </div>

                <div class="auth-actions">
                  <button
                    type="submit"
                    class="btn btn--cf"
                    data-i18n="cf.wizard.submit"
                    data-i18n-aria="cf.wizard.submitAria"
                    aria-label="Save and verify Cloudflare token"
                  >
                    Save &amp; verify token
                  </button>
                </div>

                <div class="auth-status" data-type="pending" data-form-status="cf-bootstrap" id="cf-status" data-i18n="cf.wizard.statusStub" role="status" aria-live="polite">
                  This will hit <code>/auth/integrations/cloudflare/bootstrap</code> once wired.
                </div>
              </form>
            </div>
          </article>

          <article class="card card--panel">
            <header class="card__header">
              <h3 class="h5">How to get your credentials</h3>
            </header>
            <div class="card__body">
              <ol class="list--ruled">
                <li>
                  <strong>Account ID:</strong> In Cloudflare dashboard, go to <strong>Account Home → Overview</strong> and copy your Account ID.
                </li>
                <li>
                  <strong>Bootstrap API Token:</strong> Create a new token with the <code>301st Bootstrap</code> template and <em>Account API Tokens: Edit</em> permission.
                </li>
                <li>
                  <strong>Verify:</strong> Click "Save &amp; verify token" to validate credentials and enable domain management features.
                </li>
              </ol>
            </div>
          </article>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="page-shell footer-grid">
        <div>
          <div class="brand" aria-label="Бренд 301.st">
            <svg class="brand__logo" aria-hidden="true">
              <use href="#i-brand-301"></use>
            </svg>
            <span class="brand__text">301.st</span>
          </div>
          <p class="muted" data-i18n="layout.footer.description">Redirects and analytics.</p>
        </div>
        <div class="footer-links">
          <a href="/dashboard.html">Dashboard</a>
          <a href="#help">Help</a>
        </div>
      </div>
    </footer>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
