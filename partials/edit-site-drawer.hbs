<!-- Edit Site Drawer -->
<aside class="drawer" data-drawer="edit-site" hidden>
  <div class="drawer__overlay" data-drawer-close></div>
  <div class="drawer__panel">
    <header class="drawer__header">
      <div class="drawer__title">
        <div>
          <h2 class="h4">
            <span class="icon" data-icon="mono/pencil-circle"></span>
            Edit Site
          </h2>
          <p class="text-muted">Update site name, tag and status</p>
        </div>
      </div>
      <button class="btn-close" type="button" data-drawer-close aria-label="Close">
        <span class="icon" data-icon="mono/close"></span>
      </button>
    </header>

    <div class="drawer__body">
      <!-- Site Edit Form -->
      <form id="edit-site-form" class="stack-md" data-form="edit-site">
        <input type="hidden" name="site_id" data-site-id />
        <input type="hidden" name="project_id" data-project-id />

        <div class="field">
          <label class="field__label">
            <span>Site name</span>
            <span class="field__required">*</span>
          </label>
          <input
            class="input"
            type="text"
            name="site_name"
            placeholder="My Landing Page"
            autocomplete="off"
            required
          />
        </div>

        <div class="field">
          <label class="field__label">Site tag</label>
          <input
            class="input"
            type="text"
            name="site_tag"
            placeholder="e.g., promo-2025"
            autocomplete="off"
          />
          <p class="field__hint text-muted">Optional identifier for this site</p>
        </div>

        <div class="field">
          <label class="field__label">Status</label>
          <div class="dropdown" data-dropdown="site-status">
            <button
              class="btn-chip btn-chip--sm btn-chip--dropdown dropdown__trigger"
              type="button"
              aria-haspopup="menu"
              aria-expanded="false"
              data-site-status-select
              data-selected-value=""
            >
              <span class="btn-chip__label" data-site-status-label>Choose status...</span>
              <span class="btn-chip__chevron icon" data-icon="mono/chevron-down"></span>
            </button>
            <div class="dropdown__menu dropdown__menu--fit-trigger" role="menu" data-site-status-menu>
              <button class="dropdown__item" type="button" data-value="active">Active</button>
              <button class="dropdown__item" type="button" data-value="paused">Paused</button>
              <button class="dropdown__item" type="button" data-value="archived">Archived</button>
            </div>
          </div>
          <input type="hidden" name="status" data-site-status-value required />
          <p class="field__hint text-muted">Active sites process traffic, paused sites are temporarily disabled</p>
        </div>

        <!-- Status Panel (for errors/success) -->
        <div class="panel" data-edit-site-status hidden role="status" aria-live="polite"></div>
      </form>
    </div>

    <footer class="drawer__footer">
      <button class="btn btn--ghost" type="button" data-drawer-close>Cancel</button>
      <button type="submit" form="edit-site-form" class="btn btn--primary">
        <span class="icon" data-icon="mono/check"></span>
        <span>Save changes</span>
      </button>
    </footer>
  </div>
</aside>
