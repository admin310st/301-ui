<!-- Add Domains Drawer -->
    <aside class="drawer" data-drawer="add-domains" hidden>
      <div class="drawer__overlay" data-drawer-close></div>
      <div class="drawer__panel">
        <header class="drawer__header">
          <div class="drawer__title">
            <h2 class="h4">Add domains</h2>
            <p class="text-muted">Paste domains or raw text — we'll clean it up before importing.</p>
          </div>
          <button class="btn-close" type="button" data-drawer-close aria-label="Close">
            <span class="icon" data-icon="mono/close"></span>
          </button>
        </header>

        <div class="drawer__body">
          <!-- Input View -->
          <div class="stack-list" data-add-input-view>
            <!-- Cloudflare Account Selection -->
            <div class="field">
              <label class="field__label">Cloudflare account</label>
              <div class="dropdown" data-dropdown="cf-account">
                <button
                  class="btn-chip btn-chip--sm btn-chip--dropdown dropdown__trigger"
                  type="button"
                  aria-haspopup="menu"
                  aria-expanded="false"
                  data-add-integration-select
                  data-selected-value=""
                >
                  <span class="btn-chip__label" data-selected-label>Loading integrations...</span>
                  <span class="btn-chip__chevron icon" data-icon="mono/chevron-down"></span>
                </button>
                <div class="dropdown__menu dropdown__menu--fit-trigger" role="menu" data-add-integration-menu>
                  <!-- Options populated by JS -->
                </div>
              </div>
              <p class="field__hint text-muted">Choose which CF account to use for zone creation</p>
            </div>

            <!-- No Integrations Panel (hidden by default) -->
            <div class="panel panel--warning" data-add-no-integrations hidden>
              <p class="text-sm">
                <span class="icon" data-icon="mono/alert-circle"></span>
                <strong>No Cloudflare integrations found</strong>
              </p>
              <p class="text-sm text-muted">
                You need to connect a Cloudflare account before adding domains.
              </p>
              <div class="cluster">
                <button class="btn btn--cf btn--sm" data-action="connect-cloudflare">
                  <span class="icon" data-icon="brand/cloudflare"></span>
                  <span>Connect Cloudflare</span>
                </button>
              </div>
            </div>

            <!-- Inline Error Panel (for mobile where drawer covers global notice) -->
            <div class="panel panel--danger" data-add-error-panel hidden>
              <p class="text-sm">
                <span class="icon" data-icon="mono/alert"></span>
                <strong data-add-error-title>Error</strong>
              </p>
              <p class="text-sm text-muted" data-add-error-message></p>
            </div>

            <!-- Raw Input -->
            <div class="field">
              <label class="field__label">Input</label>
              <textarea
                class="textarea"
                rows="6"
                placeholder="Paste domains, lines from registrar emails, or any raw text here…"
                data-add-raw-input
              ></textarea>
            </div>

            <!-- Detected Domains Preview -->
            <div class="card card--panel" data-add-preview-card>
              <header class="card__header">
                <h3 class="h5">Detected domains</h3>
                <div class="card__meta">
                  <span>Found: <strong data-add-found-count>0</strong></span>
                </div>
              </header>
              <div class="card__body">
                <div class="empty-state" data-add-empty-state>
                  <p class="text-muted">No domains detected yet.</p>
                </div>
                <div class="domain-preview-list" data-add-domain-list hidden>
                  <!-- Populated by JS -->
                </div>
              </div>
            </div>
          </div>

          <!-- Results View (hidden by default) -->
          <div class="stack-list" data-add-results-view hidden>
            <!-- Will be populated after batch operation -->
          </div>
        </div>

        <footer class="drawer__footer">
          <button class="btn btn--primary" type="button" data-add-submit disabled>
            <span class="icon" data-icon="mono/plus"></span>
            <span>Add domains</span>
          </button>
          <button class="btn btn--ghost" type="button" data-drawer-close>Cancel</button>
        </footer>
      </div>
    </aside>
