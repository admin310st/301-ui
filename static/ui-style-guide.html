<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>301.st UI Style Guide</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="alternate icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/theme.css" />
    <link rel="stylesheet" href="/css/layout.css" />
    <link rel="stylesheet" href="/css/site.css" />
    <style>
      body {
        background: var(--bg);
        color: var(--text);
      }

      .guide-hero {
        border-bottom: 1px solid var(--border-subtle);
        padding-block: var(--space-5);
        background: color-mix(in srgb, var(--bg) 80%, var(--bg-elevated));
      }

      .guide-subtitle {
        max-width: 780px;
      }

      .guide-nav {
        gap: var(--inline-gap);
        flex-wrap: wrap;
      }

      .guide-nav a {
        padding: 0.5rem 0.9rem;
        border-radius: var(--radius);
        border: 1px solid var(--border-subtle);
        text-decoration: none;
        color: var(--text);
        background: var(--panel);
        font-size: var(--fs-sm);
      }

      .guide-nav a:hover {
        border-color: color-mix(in srgb, var(--primary) 40%, transparent);
        color: var(--primary);
      }

      .guide-tools {
        display: flex;
        gap: var(--inline-gap);
        align-items: center;
        flex-wrap: wrap;
      }

      .guide-section {
        margin-bottom: var(--section-gap);
      }

      .guide-stack {
        display: flex;
        flex-direction: column;
        gap: var(--stack-gap);
      }

      .guide-blocks {
        display: flex;
        flex-direction: column;
        gap: var(--block-gap);
      }

      .guide-section__header {
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
        margin-bottom: var(--space-3);
      }

      .guide-demo--dashboard {
        padding: var(--space-3);
        background: var(--panel);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-md);
      }

      .guide-demo--dashboard .layout-shell {
        min-height: 240px;
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius);
        overflow: hidden;
      }

      .guide-demo--dashboard .layout-sidebar,
      .guide-demo--dashboard .layout-main {
        font-size: var(--fs-sm);
      }

      .guide-demo--dashboard .layout-sidebar {
        padding: var(--space-4) var(--space-3);
      }

      .guide-demo--dashboard .layout-main {
        padding-block: var(--space-4);
      }

      .guide-demo--dashboard .page-header {
        margin-bottom: var(--space-3);
        padding-bottom: var(--space-2);
      }

      .guide-demo--dashboard .stack-list {
        gap: var(--space-2);
      }

      .guide-demo--dashboard .demo-block {
        padding-block: var(--space-2);
        padding-inline: var(--space-3);
        border-bottom: 1px solid var(--border-subtle);
        border-radius: var(--radius);
        background: var(--bg-soft);
      }

      .guide-theme-toggle {
        display: inline-flex;
        align-items: center;
        gap: var(--space-2);
      }

      .token-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-4);
      }

      .token-swatch {
        padding: var(--space-3);
        background: var(--bg-soft);
        border-radius: var(--radius);
        border: 1px solid var(--border-subtle);
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      .token-color {
        height: 80px;
        border-radius: var(--radius);
        border: 1px solid var(--border-subtle);
        background: var(--token-var);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
      }

      .token-name {
        font-weight: var(--fw-semibold);
      }

      .token-value {
        font-family: "SFMono-Regular", ui-monospace, SFMono-Regular, Menlo, Monaco,
          Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: var(--fs-sm);
        color: var(--text-muted);
      }

      .token-usage {
        font-size: var(--fs-sm);
      }

      .space-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: var(--space-4);
      }

      .spacing-card {
        padding: var(--space-3);
        background: var(--bg-soft);
        border-radius: var(--radius);
        border: 1px solid var(--border-subtle);
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      .spacing-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: var(--space-2);
        font-size: var(--fs-sm);
      }

      .spacing-name {
        font-weight: var(--fw-semibold);
      }

      .spacing-value {
        color: var(--text-muted);
        font-variant-numeric: tabular-nums;
      }

      .guide-table {
        width: 100%;
        border-collapse: collapse;
        font-size: var(--fs-sm);
      }

      .guide-table th,
      .guide-table td {
        text-align: left;
        padding: var(--space-2);
        border: 1px solid var(--border-subtle);
      }

      .guide-table th {
        color: var(--text-muted);
        font-weight: var(--fw-medium);
      }

      .metric-pill {
        display: block;
        padding: 0.25rem 0.5rem;
      }

      .metric-pill__track {
        position: relative;
        width: 100%;
        height: 0.4rem;
        border-radius: 999px;
        background: rgba(94, 139, 255, 0.14);
        box-shadow: inset 0 0 0 1px rgba(94, 139, 255, 0.35);
        overflow: hidden;
      }

      .metric-pill__fill {
        --metric-fill: 1;

        position: absolute;
        inset: 2px;
        border-radius: 999px;
        background: rgba(94, 139, 255, 0.9);
        transform-origin: left center;
        transform: scaleX(var(--metric-fill));
      }

      .section-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: var(--space-2);
        flex-wrap: wrap;
      }

      .code-inline {
        background: color-mix(in srgb, var(--bg) 70%, var(--bg-elevated));
        border-radius: var(--radius);
        padding: 0.15rem 0.35rem;
        font-family: "SFMono-Regular", ui-monospace, SFMono-Regular, Menlo, Monaco,
          Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: var(--fs-sm);
      }

      .example-grid {
        display: grid;
        gap: var(--space-4);
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .example-card {
        padding: var(--space-4);
        border-radius: var(--radius);
        border: 1px solid var(--border-subtle);
        background: var(--bg-soft);
      }

      .table {
        width: 100%;
        border-collapse: collapse;
        font-size: var(--fs-sm);
      }

      .table thead {
        background: var(--bg-soft);
      }

      .table th,
      .table td {
        padding: 0.6rem 0.75rem;
        text-align: left;
      }

      .table th {
        font-weight: var(--fw-medium);
        color: var(--text-muted);
        border-bottom: 1px solid var(--border-strong);
        white-space: nowrap;
      }

      .th-sort {
        display: inline-flex;
        align-items: center;
        gap: 0.35em;
        font: inherit;
        color: inherit;
        background: transparent;
        border: 0;
        padding: 0;
        margin: 0;
        line-height: 1;
        cursor: pointer;
      }

      .th-sort .icon {
        width: 1em;
        height: 1em;
      }

      .table tbody tr {
        border-bottom: 1px solid var(--border-subtle);
      }

      .table tbody tr:hover {
        background: rgba(255, 255, 255, 0.02);
      }

      .table-scroll {
        overflow-x: auto;
        width: 100%;
      }

      .table--domains {
        min-width: 720px;
      }

      .table__th-actions,
      .table__cell-actions {
        width: 1%;
        white-space: nowrap;
      }

      .table__cell-actions {
        text-align: right;
      }

      .table-controls {
        display: flex;
        flex-wrap: wrap;
        gap: var(--inline-gap);
      }

      .table-controls .table-search {
        flex: 1 1 100%;
        min-width: 0;
      }

      .table-controls .btn,
      .table-controls .btn-chip {
        flex: 0 0 auto;
      }

      .table-filter {
        position: relative;
      }

      .table-filter__menu {
        position: absolute;
        top: calc(100% + 0.25rem);
        left: 0;
        z-index: var(--z-dropdown, 20);

        min-width: 11rem;
        padding: 0.25rem 0;
        border-radius: var(--radius-lg);
        background: var(--panel);
        border: 1px solid var(--border-subtle);
        box-shadow: var(--shadow-md);
      }

      .table-filter__menu[hidden] {
        display: none;
      }

      .table-search {
        flex: 1 1 16rem;
        min-width: 0;
        background: var(--panel);
        color: var(--text);
        border-color: var(--border-subtle);
      }

      .table-search__input {
        flex: 1 1 auto;
        -webkit-appearance: none;
        appearance: none;
        font: inherit;
        line-height: inherit;
        background: transparent;
        border: 0;
        outline: none;
        width: 100%;
        color: var(--text);
        padding: 0;
      }

      .table-search__input::placeholder {
        color: var(--muted);
      }

      .table-search__clear {
        border: 0;
        padding: 0;
        background: transparent;
        display: none;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        width: 1em;
        height: 1em;
        flex: 0 0 1em;
      }

      .table-search--active .table-search__clear {
        display: inline-flex;
      }

      .table-search__clear .icon {
        color: var(--muted);
      }

      .btn-icon {
        width: 2rem;
        height: 2rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius);
        border: 0;
        background: transparent;
        cursor: pointer;
        color: var(--muted);
      }

      .btn-icon--ghost:hover {
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
      }

      .btn-icon .icon {
        width: 1rem;
        height: 1rem;
        color: currentColor;
      }

      .dropdown {
        position: relative;
        display: inline-block;
      }

      .dropdown__trigger {
        color: var(--text-muted);
      }

      .dropdown__menu {
        position: absolute;
        top: calc(100% + 0.35rem);
        right: 0;
        min-width: 220px;
        background: var(--bg-elevated);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius);
        box-shadow: var(--shadow-soft);
        padding: var(--space-2) 0;
        display: none;
        z-index: var(--z-dropdown, 20);
      }

      .dropdown__menu--align-right {
        right: 0;
      }

      .dropdown__item {
        width: 100%;
        background: transparent;
        border: none;
        color: var(--text);
        font-size: var(--fs-sm);
        display: flex;
        align-items: center;
        gap: var(--space-2);
        padding: var(--space-2) var(--space-3);
        cursor: pointer;
        text-align: left;
        transition: background var(--transition-md), color var(--transition-md);
      }

      .dropdown__item:hover {
        background: color-mix(in srgb, var(--primary) 8%, transparent);
        color: var(--text);
      }

      .dropdown__item--danger {
        color: var(--danger);
      }

      .dropdown__item--danger:hover {
        background: color-mix(in srgb, var(--danger) 12%, transparent);
      }

      .dropdown--open .dropdown__menu {
        display: block;
      }

      .table-demo-controls .icon,
      .table--domains .icon,
      .dropdown__menu .icon {
        width: 1rem;
        height: 1rem;
        color: currentColor;
      }

      .domain-cell {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .domain-cell__name {
        font-weight: var(--fw-semibold);
        color: var(--text);
      }

      .domain-cell__meta {
        display: inline-flex;
        align-items: center;
        gap: var(--space-2);
        flex-wrap: wrap;
        color: var(--text-muted);
        font-size: var(--fs-xs);
      }

      .domain-cell__meta .badge {
        font-size: var(--fs-xs);
        padding-inline: 0.6em;
      }

      .provider-label {
        display: inline-flex;
        align-items: center;
        gap: var(--space-2);
        color: var(--text-muted);
      }

      .link-button {
        display: inline-flex;
        align-items: center;
        gap: var(--space-2);
        background: transparent;
        border: none;
        color: var(--primary);
        font-size: var(--fs-sm);
        cursor: pointer;
        padding: 0.2rem 0.35rem;
        border-radius: var(--radius);
      }

      .link-button:hover {
        background: color-mix(in srgb, var(--primary) 10%, transparent);
      }

      .link-button--sm {
        font-size: var(--fs-xs);
      }

      .text-xs {
        font-size: var(--fs-xs);
      }

      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding-inline: 0.75em;
        padding-block: 0.15em;
        border-radius: 999px;
        border: 1px solid transparent;

        font-size: 0.75rem;
        line-height: 1.6;
        font-weight: 500;

        background-color: rgba(255, 255, 255, 0.03);
        color: var(--text);
      }

      .badge--pill {
        border-radius: 999px;
      }

      .badge + .badge {
        margin-left: 0.25rem;
      }

      .badge--neutral {
        background-color: rgba(255, 255, 255, 0.02);
        border-color: rgba(255, 255, 255, 0.08);
        color: var(--muted);
      }

      .badge--success {
        background-color: rgba(37, 208, 164, 0.12);
        border-color: rgba(37, 208, 164, 0.5);
        color: var(--ok);
      }

      .badge--danger {
        background-color: rgba(255, 107, 107, 0.12);
        border-color: rgba(255, 107, 107, 0.5);
        color: var(--danger);
      }

      .badge--brand {
        background-color: rgba(94, 139, 255, 0.16);
        border-color: rgba(94, 139, 255, 0.55);
        color: var(--brand);
      }

      .badge--cf {
        background-color: rgba(246, 130, 31, 0.16);
        border-color: rgba(246, 130, 31, 0.55);
        color: #f6821f;
      }

      :root[data-theme='light'] .badge {
        background-color: color-mix(in srgb, var(--text) 5%, #ffffff);
        border-color: color-mix(in srgb, var(--text) 18%, transparent);
        color: var(--text);
      }

      :root[data-theme='light'] .badge--neutral {
        background-color: color-mix(in srgb, var(--text) 5%, var(--bg));
        border-color: color-mix(in srgb, var(--text) 22%, transparent);
        color: var(--muted);
      }

      :root[data-theme='light'] .badge--success {
        background-color: color-mix(in srgb, var(--ok) 16%, #ffffff);
        border-color: color-mix(in srgb, var(--ok) 42%, transparent);
        color: var(--ok);
      }

      :root[data-theme='light'] .badge--danger {
        background-color: color-mix(in srgb, var(--danger) 16%, #ffffff);
        border-color: color-mix(in srgb, var(--danger) 44%, transparent);
        color: var(--danger);
      }

      :root[data-theme='light'] .badge--brand {
        background-color: color-mix(in srgb, var(--brand) 14%, #ffffff);
        border-color: color-mix(in srgb, var(--brand) 40%, transparent);
        color: var(--brand);
      }

      :root[data-theme='light'] .badge--cf {
        background-color: color-mix(in srgb, var(--accent-cf-bg) 14%, #ffffff);
        border-color: color-mix(in srgb, var(--accent-cf-bg) 40%, transparent);
        color: var(--accent-cf-bg);
      }

      .code-block {
        font-family: "SFMono-Regular", ui-monospace, SFMono-Regular, Menlo, Monaco,
          Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: var(--fs-sm);
        background: color-mix(in srgb, var(--bg) 80%, var(--bg-elevated));
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius);
        padding: var(--space-3);
        overflow-x: auto;
      }

      .guide-section .code-block,
      .guide-section pre {
        margin-top: var(--stack-gap);
      }

      .guide-icon-row {
        display: flex;
        gap: var(--space-3);
        align-items: center;
        flex-wrap: wrap;
      }

      .label-inline {
        font-size: var(--fs-sm);
        color: var(--text-muted);
      }
    </style>
  </head>
  <body>
    <header class="guide-hero">
      <div class="page-shell stack-list">
        <div class="guide-stack">
          <p class="eyebrow">Layer 0</p>
          <h1 class="text-display">301.st UI Style Guide</h1>
          <p class="text-lead guide-subtitle">
            Single source of truth for UI tokens & components used in 301.st app frontend. Codex and developers should pull
            colors, typography, layout helpers and component classes from here instead of raw values.
          </p>
          <div class="guide-tools">
            <button type="button" class="btn btn--ghost btn-sm guide-theme-toggle" data-theme-toggle>
              <span class="icon" data-icon="mono/theme-light-dark"></span>
              <span data-theme-label>Switch to light theme</span>
            </button>
            <p class="text-muted">Toggle to preview both light and dark palettes.</p>
          </div>
        </div>

        <nav class="guide-nav controls-row" aria-label="On-page navigation">
          <a href="#themes">Themes</a>
          <a href="#colors">Colors &amp; tokens</a>
          <a href="#spacing">Spacing scale</a>
          <a href="#typography">Typography</a>
          <a href="#layout">Layout helpers</a>
          <a href="#badges">Badges</a>
          <a href="#table-control-chips">Table control chips</a>
          <a href="#tables">Tables</a>
          <a href="#table-search">Table search</a>
          <a href="#dropdown">Dropdown</a>
          <a href="#domains-example">Domains table</a>
          <a href="#buttons">Buttons</a>
          <a href="#forms">Form fields</a>
          <a href="#tabs">Tabs &amp; chips</a>
          <a href="#cards">Cards / panels</a>
          <a href="#icons">Icons</a>
        </nav>
      </div>
    </header>

    <main class="page-shell stack-list">
      <section id="themes" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Core</p>
            <h2 class="text-title">Themes</h2>
          </div>
          <p class="text-muted">Dark-first palette with a light alternative.</p>
        </div>

        <p class="text-body">
          301.st uses a <strong>dark-first</strong> palette with an optional light theme. All components must rely on CSS
          tokens (e.g. <code class="code-inline">--bg</code>, <code class="code-inline">--panel</code>,
          <code class="code-inline">--text</code>), never raw hex values. The theme switcher only flips token values, not
          component-specific styles.
        </p>
        <ul class="text-muted">
          <li>Dark theme: default for app.301.st, optimized for dashboard usage.</li>
          <li>Light theme: used for previews/marketing; same tokens, different values.</li>
          <li>Implementation: theme is controlled via <code class="code-inline">data-theme="light|dark"</code> on the
            <code class="code-inline">&lt;html&gt;</code> element.</li>
        </ul>
        <p class="text-body">
          When adding new components, <strong>never hardcode colors</strong>. Always reuse existing tokens so both themes stay
          in sync.
        </p>
      </section>

      <section id="colors" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Tokens</p>
            <h2 class="text-title">Colors &amp; tokens</h2>
          </div>
          <p class="text-muted">Use tokens, never raw hex codes.</p>
        </div>

        <div class="code-block">
          <strong>Usage map</strong><br />
          --bg — page background<br />
          --panel — cards/panels background<br />
          --brand — primary CTAs and focus<br />
          --danger — destructive actions / error text<br />
          --ok — positive/success states<br />
          --muted — secondary text, captions<br />
          --text — default text color
        </div>

        <div class="token-grid">
          <div class="token-swatch" style="--token-var: var(--bg)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--bg</div>
              <div class="token-value" data-token-value="--bg"></div>
              <div class="token-usage text-muted">App/page background</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--panel)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--panel</div>
              <div class="token-value" data-token-value="--panel"></div>
              <div class="token-usage text-muted">Cards, panels, inset blocks</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--brand)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--brand</div>
              <div class="token-value" data-token-value="--brand"></div>
              <div class="token-usage text-muted">Primary actions, focus rings</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--danger)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--danger</div>
              <div class="token-value" data-token-value="--danger"></div>
              <div class="token-usage text-muted">Destructive actions, error text</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--ok)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--ok</div>
              <div class="token-value" data-token-value="--ok"></div>
              <div class="token-usage text-muted">Success/positive states</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--muted)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--muted</div>
              <div class="token-value" data-token-value="--muted"></div>
              <div class="token-usage text-muted">Secondary/caption text</div>
            </div>
          </div>
          <div class="token-swatch" style="--token-var: var(--text)">
            <div class="token-color"></div>
            <div class="stack-sm">
              <div class="token-name">--text</div>
              <div class="token-value" data-token-value="--text"></div>
              <div class="token-usage text-muted">Default text color</div>
            </div>
          </div>
        </div>
      </section>

      <section id="spacing" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Spacing</p>
            <h2 class="text-title">Spacing scale</h2>
          </div>
          <p class="text-muted">Base rhythm for padding, gaps and margins.</p>
        </div>

        <p class="text-body">
          <code class="code-inline">metric-pill</code> is a small visual meter that can be reused for any compact metrics
          (freshness, coverage, etc.). The fill width is controlled via the CSS variable
          <code class="code-inline">--metric-fill</code> (0–1).
        </p>

        <div class="space-grid">
          <div class="spacing-card">
            <div class="metric-pill" data-value="1">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 0.2"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-1</div>
              <div class="spacing-value" data-token-value="--space-1"></div>
            </div>
          </div>
          <div class="spacing-card">
            <div class="metric-pill" data-value="2">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 0.4"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-2</div>
              <div class="spacing-value" data-token-value="--space-2"></div>
            </div>
          </div>
          <div class="spacing-card">
            <div class="metric-pill" data-value="3">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 0.6"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-3</div>
              <div class="spacing-value" data-token-value="--space-3"></div>
            </div>
          </div>
          <div class="spacing-card">
            <div class="metric-pill" data-value="4">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 0.8"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-4</div>
              <div class="spacing-value" data-token-value="--space-4"></div>
            </div>
          </div>
          <div class="spacing-card">
            <div class="metric-pill" data-value="5">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 1"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-5</div>
              <div class="spacing-value" data-token-value="--space-5"></div>
            </div>
          </div>
          <div class="spacing-card">
            <div class="metric-pill" data-value="6">
              <div class="metric-pill__track">
                <div class="metric-pill__fill" style="--metric-fill: 1"></div>
              </div>
            </div>

            <div class="spacing-meta">
              <div class="spacing-name">--space-6</div>
              <div class="spacing-value" data-token-value="--space-6"></div>
            </div>
          </div>
        </div>
        <p class="label-inline">Spacing tokens are standardized as <span class="code-inline">--space-*</span>; legacy aliases have been removed.</p>
        <div class="example-card stack-sm" style="margin-top: var(--space-2);">
          <h3 class="text-title">Stack helper</h3>
          <div class="stack stack-md" style="background: var(--bg-soft); padding: var(--space-3); border-radius: var(--radius);">
            <div class="card-section">Item 1</div>
            <div class="card-section">Item 2</div>
          </div>
          <p class="text-muted">.stack-md applies <code class="code-inline">gap: var(--space-3)</code>.</p>
        </div>
      </section>

      <section id="typography" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Type scale</p>
            <h2 class="text-title">Typography</h2>
          </div>
          <p class="text-muted">Use text helpers for consistent sizing and leading.</p>
        </div>

        <div class="stack-md">
          <div class="stack-sm">
            <p class="eyebrow">Display</p>
            <p class="text-display">Access 301.st — display heading</p>
            <p class="text-muted">Class: <span class="code-inline">.text-display</span></p>
          </div>

          <div class="stack-sm">
            <h1 class="text-title">Section title — h1/h2/h3</h1>
            <p class="text-muted">Class: <span class="code-inline">.text-title</span></p>
            <p class="text-lead">Lead paragraph for callouts or descriptions.</p>
            <p class="text-body">
              Default body text — uses <span class="code-inline">.text-body</span> for forms and descriptive copy.
              <span class="text-muted">Use <span class="code-inline">.text-muted</span> for helper texts, subtitles, validation messages.</span>
            </p>
          </div>

          <div class="code-block">
            &lt;p class="text-body"&gt;Default body text — uses .text-body for forms and descriptive copy.&lt;/p&gt;<br />
            &lt;p class="text-muted"&gt;Helper text, subtitles and validation messages use .text-muted.&lt;/p&gt;
          </div>
        </div>
      </section>

      <section id="layout" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Spacing</p>
            <h2 class="text-title">Layout helpers</h2>
          </div>
          <p class="text-muted">Avoid ad-hoc margins; rely on shared layout tokens and patterns.</p>
        </div>

        <div class="guide-blocks">
          <div class="guide-stack">
            <h3 class="text-title">Spacing tokens</h3>
            <p class="text-body">Use layout aliases instead of raw pixel values.</p>
            <div class="space-grid">
              <div class="spacing-card guide-stack">
                <div class="spacing-meta">
                  <span class="spacing-name">Page gutter</span>
                  <span class="spacing-value">--page-gutter-desktop / --page-gutter-mobile</span>
                </div>
                <p class="spacing-value">32px / 16px</p>
                <p class="text-body text-muted">Horizontal padding for every screen.</p>
              </div>
              <div class="spacing-card guide-stack">
                <div class="spacing-meta">
                  <span class="spacing-name">Section gap</span>
                  <span class="spacing-value">--section-gap</span>
                </div>
                <p class="spacing-value">24px</p>
                <p class="text-body text-muted">Distance between major sections.</p>
              </div>
              <div class="spacing-card guide-stack">
                <div class="spacing-meta">
                  <span class="spacing-name">Blocks</span>
                  <span class="spacing-value">--block-gap</span>
                </div>
                <p class="spacing-value">16px</p>
                <p class="text-body text-muted">Cards, lists, cards inside modals.</p>
              </div>
              <div class="spacing-card guide-stack">
                <div class="spacing-meta">
                  <span class="spacing-name">Stack</span>
                  <span class="spacing-value">--stack-gap</span>
                </div>
                <p class="spacing-value">12px</p>
                <p class="text-body text-muted">Tight vertical rhythm within panels.</p>
              </div>
              <div class="spacing-card guide-stack">
                <div class="spacing-meta">
                  <span class="spacing-name">Inline</span>
                  <span class="spacing-value">--inline-gap</span>
                </div>
                <p class="spacing-value">8px</p>
                <p class="text-body text-muted">Chip/button gaps in control rows.</p>
              </div>
            </div>
          </div>

          <div class="guide-stack">
            <h3 class="text-title">Page shell &amp; patterns</h3>
            <div class="guide-blocks">
              <div class="guide-stack">
                <p class="text-body">Wrap every page in <span class="code-inline">.page-shell</span>. Combine with <span class="code-inline">.page-header</span> and <span class="code-inline">.controls-row</span> for consistent chrome.</p>
                <div class="card guide-stack">
                  <div class="page-header">
                    <div class="guide-stack">
                      <p class="eyebrow">Pattern</p>
                      <h4 class="text-title">Page header</h4>
                    </div>
                    <div class="controls-row">
                      <button class="btn btn--ghost btn-sm">Action</button>
                      <button class="btn btn--ghost btn-sm">Ghost</button>
                    </div>
                  </div>
                  <div class="controls-row">
                    <button class="btn-chip is-active">Chip</button>
                    <button class="btn-chip">Filter</button>
                    <button class="btn-chip">Another</button>
                  </div>
                  <div class="stack-list">
                    <div class="card-section">Stack item 1</div>
                    <div class="card-section">Stack item 2</div>
                  </div>
                </div>
                <div class="code-block">&lt;div class="page-shell"&gt;...&lt;/div&gt;</div>
              </div>
              <div class="guide-stack">
                <p class="text-body">For wide tables wrap content in <span class="code-inline">.table-scroll</span>.</p>
                <div class="table-scroll">
                  <table class="table">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Status</th>
                        <th>Owner</th>
                        <th class="table__cell-actions">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>domain.com</td>
                        <td><span class="badge badge--success">Active</span></td>
                        <td>alex@example.com</td>
                        <td class="table__cell-actions"><button class="btn btn--ghost btn-sm">Open</button></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <section class="guide-section">
            <header class="guide-section__header">
              <h3 class="text-title">Dashboard shell</h3>
              <p class="text-body">Desktop: sidebar + main. Mobile: sidebar hidden, content uses page gutters.</p>
            </header>
            <div class="guide-demo guide-demo--dashboard">
              <div class="layout-shell">
                <aside class="layout-sidebar">Sidebar</aside>
                <main class="layout-main">
                  <div class="page-header">
                    <h4 class="text-title">Page title</h4>
                  </div>
                  <div class="stack-list">
                    <div class="demo-block">Card / table block</div>
                    <div class="demo-block">Another block</div>
                  </div>
                </main>
              </div>
            </div>
          </section>

          <section class="guide-section">
            <header class="guide-section__header">
              <h3 class="text-title">Feedback / Global alerts</h3>
              <p class="text-body">
                Global banners align to the same gutters as <span class="code-inline">.page-shell</span> content. Use a
                comfortable padding block and separate them from the page body with <code class="code-inline">margin-bottom:
                var(--block-gap)</code>.
              </p>
            </header>

            <div class="guide-stack">
              <div class="app-alert app-alert--error" data-state="visible" role="alert" aria-live="polite">
                <div class="app-alert__inner">
                  <span class="icon app-alert__icon" aria-hidden="true">
                    <svg>
                      <use href="#i-mono-alert"></use>
                    </svg>
                  </span>
                  <div class="app-alert__content">
                    <strong>Something went wrong</strong>
                    <p class="app-alert__text">Short description of the error or action the user should take.</p>
                  </div>
                  <button class="app-alert__close" type="button" aria-label="Close alert">
                    <span class="icon" aria-hidden="true">
                      <svg>
                        <use href="#i-mono-close"></use>
                      </svg>
                    </span>
                  </button>
                </div>
              </div>

              <div class="app-alert app-alert--success" data-state="visible" role="status" aria-live="polite">
                <div class="app-alert__inner">
                  <span class="icon app-alert__icon" aria-hidden="true">
                    <svg>
                      <use href="#i-mono-success"></use>
                    </svg>
                  </span>
                  <div class="app-alert__content">
                    <strong>Everything saved</strong>
                    <p class="app-alert__text">Records updated. Users will see the new settings within a few minutes.</p>
                  </div>
                  <button class="app-alert__close" type="button" aria-label="Close alert">
                    <span class="icon" aria-hidden="true">
                      <svg>
                        <use href="#i-mono-close"></use>
                      </svg>
                    </span>
                  </button>
                </div>
              </div>

              <ul class="text-body text-muted" style="padding-left: 1.2rem; margin: 0;">
                <li>Stick to <code class="code-inline">.app-alert--error</code> or <code class="code-inline">.app-alert--success</code> modifiers for state.</li>
                <li>Icons use the mono set to match inline text color.</li>
                <li>Padding and gutters match the main content area so banners feel attached to the page shell.</li>
              </ul>
            </div>
          </section>
        </div>
      </section>

      <section id="badges" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Status</p>
            <h2 class="text-title">Badges / status pills</h2>
          </div>
          <p class="text-muted">Compact status labels for tables, logs, sync state and environments.</p>
        </div>

        <div class="stack-sm">
          <div class="cluster">
            <span class="badge badge--success">Active</span>
            <span class="badge badge--danger">DNS error</span>
            <span class="badge badge--cf">WAF + Cache</span>
            <span class="badge badge--brand">Syncing…</span>
            <span class="badge badge--neutral">3 min ago</span>
          </div>
          <p class="text-muted">
            Use for domain status (<code class="code-inline">Active / Paused / Expired</code>), Cloudflare integration (<code class="code-inline">No CF</code>,
            <code class="code-inline">WAF only</code>, <code class="code-inline">WAF + Cache</code>), mini sync statuses (<code class="code-inline">3 min ago</code>,
            <code class="code-inline">Queued</code>, <code class="code-inline">Syncing…</code>) and environments (<code class="code-inline">Dev / Staging / Prod</code>).
          </p>
        </div>
      </section>

      <section id="table-control-chips" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Components</p>
            <h2 class="text-title">Table control chips</h2>
          </div>
          <p class="text-muted">Chip buttons for table toolbars: search, dropdown filters, provider actions and the primary CTA.</p>
        </div>

        <div class="stack-sm">
          <p class="text-body">
            Table controls share the base control height so the search bar, chips and buttons align. Icons always inherit
            <code class="code-inline">currentColor</code>. Tone options are limited to neutral filters, the orange provider chip and the
            primary blue action.
          </p>

          <p class="text-body">
            The search control in table toolbars always reuses the <strong>Table Search Bar</strong> component. Do not fork
            <code class="code-inline">table-search</code> markup for specific screens — update the component and reuse it.
          </p>

          <p class="text-body">Inside header cells use chips only; primary actions live in the toolbar above the table.</p>

          <div class="table-scroll">
            <table class="table" style="min-width: 620px;">
              <thead>
                <tr>
                  <th>Variant</th>
                  <th>Class / modifier</th>
                  <th>Usage</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Search chip</td>
                  <td><code class="code-inline">.table-search</code></td>
                  <td>Domain / project search</td>
                </tr>
                <tr>
                  <td>Dropdown chip</td>
                  <td><code class="code-inline">.btn-chip.btn-chip--dropdown</code></td>
                  <td>Status filters and similar</td>
                </tr>
                <tr>
                  <td>Provider chip</td>
                  <td><code class="code-inline">.btn-chip.btn-chip--cf</code></td>
                  <td>Cloudflare-specific actions</td>
                </tr>
                <tr>
                  <td>Primary button</td>
                  <td><code class="code-inline">.btn.btn--primary</code></td>
                  <td>Main action above the table</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="card stack" style="padding: var(--space-4);">
            <div class="row table-controls">
              <div class="table-search" data-table-search>
                <span class="icon" data-icon="mono/search"></span>
                <input
                  class="table-search__input"
                  type="text"
                  placeholder="Search by domain, project or account…"
                />
                <button class="table-search__clear" type="button" aria-label="Clear">
                  <span class="icon" data-icon="mono/close"></span>
                </button>
              </div>

              <button class="btn-chip btn-chip--dropdown" type="button">
                <span class="icon" data-icon="mono/filter"></span>
                Status: Active
                <span class="icon" data-icon="mono/chevron-down"></span>
              </button>

              <button class="btn-chip btn-chip--cf" type="button">
                <span class="icon" data-icon="brand/cloudflare"></span>
                Cloudflare
              </button>

              <button class="btn btn--primary" type="button">
                <span class="icon" data-icon="mono/plus"></span>
                Add domain
              </button>
            </div>

            <p class="text-muted" style="margin: 0;">
              Search, status chip, Cloudflare chip and primary action reuse the unified control recipe — identical pill height
              and radii with no per-control padding overrides.
            </p>
          </div>
        </div>
      </section>

      <section id="tables" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Data display</p>
            <h2 class="text-title">Tables</h2>
          </div>
          <p class="text-muted">
            Domains list reference with horizontal scroll, table search, dropdown filters, action chips and a primary action.
          </p>
        </div>

        <div class="stack-sm">
          <p class="text-body">
            Domains tables stay in a single row layout even on mobile; wrap the table in a horizontal scroller and keep action
            menus inside dropdowns so the row stays compact. Above the table you can place a search chip, one or more dropdown
            filter chips, provider action chips and a primary button. The example shows a search chip, a status dropdown chip, a
            Cloudflare action chip and a primary “Add domain” button.
          </p>

          <div class="card stack">
            <div class="card-section stack" style="border-top: none; padding-top: 0;">
              <div class="row table-controls">
                <div class="table-search" data-table-search>
                  <span class="icon" data-icon="mono/search"></span>
                  <input
                    class="table-search__input"
                    type="text"
                    placeholder="Search by domain, project or account…"
                  />
                  <button class="table-search__clear" type="button" aria-label="Clear">
                    <span class="icon" data-icon="mono/close"></span>
                  </button>
                </div>

                <div class="table-filter" data-demo="status-filter">
                  <button class="btn-chip btn-chip--dropdown" type="button" aria-expanded="false">
                    <span class="icon" data-icon="mono/filter"></span>
                    Status: Active
                    <span class="icon" data-icon="mono/chevron-down"></span>
                  </button>

                  <div class="table-filter__menu" hidden>
                    <button class="dropdown__item is-active" type="button">All statuses</button>
                    <button class="dropdown__item" type="button">Active only</button>
                    <button class="dropdown__item" type="button">Paused</button>
                    <button class="dropdown__item" type="button">DNS error</button>
                  </div>
                </div>

                <button class="btn-chip btn-chip--cf" type="button">
                  <span class="icon" data-icon="brand/cloudflare"></span>
                  Cloudflare
                </button>

                <button class="btn btn--primary" type="button">
                  <span class="icon" data-icon="mono/plus"></span>
                  Add domain
                </button>
              </div>

              <div class="table-scroll">
                <table class="table table--domains">
                  <thead>
                    <tr>
                      <th scope="col">
                        <button class="th-sort" aria-sort="none">
                          Domain
                          <span class="icon" data-icon="mono/arrow-up-down"></span>
                        </button>
                      </th>
                      <th scope="col">
                        <button class="th-sort" aria-sort="ascending">
                          Project
                          <span class="icon" data-icon="mono/chevron-up"></span>
                        </button>
                      </th>
                      <th scope="col">Status / Expiry</th>
                      <th scope="col">Provider</th>
                      <th scope="col" class="table__th-actions"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <div class="domain-cell">
                          <span class="domain-cell__name">example.com</span>
                          <div class="domain-cell__meta">
                            <span class="icon icon-brand" data-icon="brand/cloudflare"></span>
                            <span class="text-muted">main-account</span>
                            <span class="badge badge--pill">TDS</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <button class="link-button link-button--sm" type="button">
                          <span class="icon" data-icon="mono/project"></span>
                          Main project
                        </button>
                      </td>
                      <td>
                        <span class="badge badge--success">Active</span>
                        <div class="text-muted text-xs">Exp: 2026-03-21</div>
                      </td>
                      <td>
                        <span class="provider-label">
                          <span class="icon icon-brand" data-icon="brand/cloudflare"></span>
                          <span>Cloudflare</span>
                        </span>
                      </td>
                      <td class="table__cell-actions">
                        <div class="dropdown" data-dropdown>
                          <button class="btn-icon btn-icon--ghost dropdown__trigger" type="button" aria-haspopup="menu" aria-expanded="false">
                            <span class="icon" data-icon="mono/dots-vertical"></span>
                          </button>
                          <div class="dropdown__menu dropdown__menu--align-right" role="menu">
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/details"></span>
                              <span>View details</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/logs"></span>
                              <span>Open logs</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/sync"></span>
                              <span>Sync with provider</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/copy"></span>
                              <span>Copy Zone ID</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/pencil-circle"></span>
                              <span>Edit domain</span>
                            </button>
                            <button class="dropdown__item dropdown__item--danger" type="button">
                              <span class="icon" data-icon="mono/delete"></span>
                              <span>Delete</span>
                            </button>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="domain-cell">
                          <span class="domain-cell__name">status.301.st</span>
                          <div class="domain-cell__meta">
                            <span class="icon icon-brand" data-icon="brand/namesilo"></span>
                            <span class="text-muted">blue-team</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <button class="link-button link-button--sm" type="button">
                          <span class="icon" data-icon="mono/project"></span>
                          Status page
                        </button>
                      </td>
                      <td>
                        <span class="badge badge--neutral">Paused</span>
                        <div class="text-muted text-xs">Exp: 2024-12-11</div>
                      </td>
                      <td>
                        <span class="provider-label">
                          <span class="icon icon-brand" data-icon="brand/namesilo"></span>
                          <span>NameSilo</span>
                        </span>
                      </td>
                      <td class="table__cell-actions">
                        <div class="dropdown" data-dropdown>
                          <button class="btn-icon btn-icon--ghost dropdown__trigger" type="button" aria-haspopup="menu" aria-expanded="false">
                            <span class="icon" data-icon="mono/dots-vertical"></span>
                          </button>
                          <div class="dropdown__menu dropdown__menu--align-right" role="menu">
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/eye"></span>
                              <span>View details</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/logs"></span>
                              <span>Open logs</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/sync"></span>
                              <span>Sync with provider</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/copy"></span>
                              <span>Copy Zone ID</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/pencil-circle"></span>
                              <span>Edit domain</span>
                            </button>
                            <button class="dropdown__item dropdown__item--danger" type="button">
                              <span class="icon" data-icon="mono/delete"></span>
                              <span>Delete</span>
                            </button>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="domain-cell">
                          <span class="domain-cell__name">staging.cloudapp.dev</span>
                          <div class="domain-cell__meta">
                            <span class="icon icon-brand" data-icon="brand/cloudflare"></span>
                            <span class="text-muted">ops-shared</span>
                            <span class="badge badge--brand">Syncing…</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <button class="link-button link-button--sm" type="button">
                          <span class="icon" data-icon="mono/project"></span>
                          Cloud app (staging)
                        </button>
                      </td>
                      <td>
                        <span class="badge badge--danger">DNS error</span>
                        <div class="text-muted text-xs">Exp: 2025-06-10</div>
                      </td>
                      <td>
                        <span class="provider-label">
                          <span class="icon icon-brand" data-icon="brand/cloudflare"></span>
                          <span>Cloudflare</span>
                        </span>
                      </td>
                      <td class="table__cell-actions">
                        <div class="dropdown" data-dropdown>
                          <button class="btn-icon btn-icon--ghost dropdown__trigger" type="button" aria-haspopup="menu" aria-expanded="false">
                            <span class="icon" data-icon="mono/dots-vertical"></span>
                          </button>
                          <div class="dropdown__menu dropdown__menu--align-right" role="menu">
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/eye"></span>
                              <span>View details</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/logs"></span>
                              <span>Open logs</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/sync"></span>
                              <span>Sync with provider</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/copy"></span>
                              <span>Copy Zone ID</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/pencil-circle"></span>
                              <span>Edit domain</span>
                            </button>
                            <button class="dropdown__item dropdown__item--danger" type="button">
                              <span class="icon" data-icon="mono/delete"></span>
                              <span>Delete</span>
                            </button>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="domain-cell">
                          <span class="domain-cell__name">newdomain.xyz</span>
                          <div class="domain-cell__meta">
                            <span class="icon icon-brand" data-icon="brand/namecheap"></span>
                            <span class="text-muted">nc-billing</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <button class="link-button link-button--sm" type="button">
                          <span class="icon" data-icon="mono/project"></span>
                          Marketing microsite
                        </button>
                      </td>
                      <td>
                        <span class="badge badge--success">Active</span>
                        <div class="text-muted text-xs">Exp: 2027-01-05</div>
                      </td>
                      <td>
                        <span class="provider-label">
                          <span class="icon icon-brand" data-icon="brand/namecheap"></span>
                          <span>Namecheap</span>
                        </span>
                      </td>
                      <td class="table__cell-actions">
                        <div class="dropdown" data-dropdown>
                          <button class="btn-icon btn-icon--ghost dropdown__trigger" type="button" aria-haspopup="menu" aria-expanded="false">
                            <span class="icon" data-icon="mono/dots-vertical"></span>
                          </button>
                          <div class="dropdown__menu dropdown__menu--align-right" role="menu">
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/eye"></span>
                              <span>View details</span>
                            </button>
                            <button class="dropdown__item" type="button">
                            <span class="icon" data-icon="mono/logs"></span>
                            <span>Open logs</span>
                          </button>
                          <button class="dropdown__item" type="button">
                            <span class="icon" data-icon="mono/sync"></span>
                            <span>Sync with provider</span>
                          </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/copy"></span>
                              <span>Copy Zone ID</span>
                            </button>
                            <button class="dropdown__item" type="button">
                              <span class="icon" data-icon="mono/pencil-circle"></span>
                              <span>Edit domain</span>
                            </button>
                            <button class="dropdown__item dropdown__item--danger" type="button">
                              <span class="icon" data-icon="mono/delete"></span>
                              <span>Delete</span>
                            </button>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="code-block">
  &lt;div class=&quot;row table-controls&quot;&gt;<br />
&nbsp;&nbsp;&lt;div class=&quot;table-search&quot; data-table-search&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/search&quot;&gt;&lt;/span&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;input class=&quot;table-search__input&quot; type=&quot;text&quot; placeholder=&quot;Search by domain, project or account…&quot; /&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;button class=&quot;table-search__clear&quot; type=&quot;button&quot; aria-label=&quot;Clear&quot;&gt;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/close&quot;&gt;&lt;/span&gt;&lt;/button&gt;<br />
  &nbsp;&nbsp;&lt;/div&gt;<br />
  &nbsp;&nbsp;&lt;div class=&quot;table-filter&quot; data-demo=&quot;status-filter&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;button class=&quot;btn-chip btn-chip--dropdown&quot; type=&quot;button&quot; aria-expanded=&quot;false&quot;&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/filter&quot;&gt;&lt;/span&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status: Active<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/chevron-down&quot;&gt;&lt;/span&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/button&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;table-filter__menu&quot; hidden&gt;...filter menu...&lt;/div&gt;<br />
  &nbsp;&nbsp;&lt;/div&gt;<br />
  &nbsp;&nbsp;&lt;button class=&quot;btn-chip btn-chip--cf&quot; type=&quot;button&quot;&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;brand/cloudflare&quot;&gt;&lt;/span&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;Cloudflare<br />
  &nbsp;&nbsp;&lt;/button&gt;<br />
&nbsp;&nbsp;&lt;button class=&quot;btn btn--primary&quot; type=&quot;button&quot;&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/plus&quot;&gt;&lt;/span&gt;<br />
  &nbsp;&nbsp;&nbsp;&nbsp;Add domain<br />
  &nbsp;&nbsp;&lt;/button&gt;<br />
  &lt;/div&gt;<br />
  &lt;div class=&quot;table-scroll&quot;&gt;<br />
  &nbsp;&nbsp;&lt;table class=&quot;table table--domains&quot;&gt;...domains rows with dropdown actions...&lt;/table&gt;<br />
  &lt;/div&gt;
          </div>

          <p class="text-muted">
            Keep <code class="code-inline">table--domains</code> at <code class="code-inline">min-width: 720px</code> for predictable
            scroll on mobile; do not collapse rows into cards. Use <code class="code-inline">mono</code> action icons only (search,
            close, filter, chevron-down, plus, dots-vertical, eye, logs, refresh/sync, copy, pencil-circle, delete, check-status)
            and provider icons from <code class="code-inline">brand</code> sprite (cloudflare, namecheap, namesilo).
          </p>
        </div>
      </section>



      <section id="table-search" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Components</p>
            <h2 class="text-title">Table Search Bar</h2>
          </div>
          <p class="text-muted">
            Search bar follows the shared control recipe (font size, line height and paddings) so it matches buttons and
            inputs without pixel heights. Icons use <code class="code-inline">currentColor</code>; the clear button icon is muted
            to stay visible in both light and dark themes. Input uses a plain text field — no
            <code class="code-inline">type="search"</code> — because we always show a custom clear button instead of the
            browser-provided control.
          </p>
        </div>

        <div class="stack-sm">
          <div class="table-search" data-table-search>
            <span class="icon" data-icon="mono/search"></span>
            <input
              class="table-search__input"
              type="text"
              placeholder="Search by domain, project or account…"
            />
            <button class="table-search__clear" type="button" aria-label="Clear">
              <span class="icon" data-icon="mono/close"></span>
            </button>
          </div>

          <p class="text-body">
            Use inside table headers or toolbars. Background inherits <code class="code-inline">--panel</code>, border matches
            chip filters. The clear button only appears when the input has a value; on mobile the search chip stays first in
            the controls row and wraps naturally.
          </p>

          <p class="text-body">
            This fragment is the single source of truth for table search. All table demos (Table control chips, Tables,
            Domains table, etc.) must reuse this exact <code class="code-inline">table-search</code> markup rather than forking it
            per screen.
          </p>

          <div class="code-block">
&lt;div class=&quot;table-search&quot; data-table-search&gt;<br />
&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/search&quot;&gt;&lt;/span&gt;<br />
&nbsp;&nbsp;&lt;input class=&quot;table-search__input&quot; type=&quot;text&quot; placeholder=&quot;Search by domain, project or account…&quot; /&gt;<br />
&nbsp;&nbsp;&lt;button class=&quot;table-search__clear&quot; type=&quot;button&quot; aria-label=&quot;Clear&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/close&quot;&gt;&lt;/span&gt;<br />
&nbsp;&nbsp;&lt;/button&gt;<br />
&lt;/div&gt;
          </div>
        </div>
      </section>

      <section id="dropdown" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Components</p>
            <h2 class="text-title">Dropdown Menu</h2>
          </div>
          <p class="text-muted">Reusable actions menu for table rows and compact controls.</p>
        </div>

        <div class="stack-sm">
          <div class="dropdown" data-dropdown>
            <button class="btn-icon btn-icon--ghost dropdown__trigger" type="button" aria-haspopup="menu" aria-expanded="false">
              <span class="icon" data-icon="mono/dots-vertical"></span>
            </button>

            <div class="dropdown__menu dropdown__menu--align-right" role="menu">
              <button class="dropdown__item" type="button">
                <span class="icon" data-icon="mono/eye"></span>
                <span>View details</span>
              </button>
              <button class="dropdown__item" type="button">
                <span class="icon" data-icon="mono/logs"></span>
                <span>Open logs</span>
              </button>
              <button class="dropdown__item" type="button">
                <span class="icon" data-icon="mono/sync"></span>
                <span>Sync with provider</span>
              </button>
              <button class="dropdown__item" type="button">
                <span class="icon" data-icon="mono/copy"></span>
                <span>Copy Zone ID</span>
              </button>
              <button class="dropdown__item" type="button">
                <span class="icon" data-icon="mono/pencil-circle"></span>
                <span>Edit domain</span>
              </button>
              <button class="dropdown__item dropdown__item--danger" type="button">
                <span class="icon" data-icon="mono/delete"></span>
                <span>Delete</span>
              </button>
            </div>
          </div>

          <p class="text-body">
            Attach <code class="code-inline">data-dropdown</code> to the wrapper and toggle <code class="code-inline">dropdown--open</code>
            on trigger click. Clicking outside closes all open menus. Align right with
            <code class="code-inline">dropdown__menu--align-right</code>; keep icons within the approved set only.
          </p>

          <div class="code-block">
&lt;div class=&quot;dropdown&quot; data-dropdown&gt;<br />
&nbsp;&nbsp;&lt;button class=&quot;btn-icon btn-icon--ghost dropdown__trigger&quot; aria-expanded=&quot;false&quot;&gt;...dots...&lt;/button&gt;<br />
&nbsp;&nbsp;&lt;div class=&quot;dropdown__menu dropdown__menu--align-right&quot; role=&quot;menu&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;button class=&quot;dropdown__item&quot;&gt;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/eye&quot;&gt;&lt;/span&gt;View details&lt;/button&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;...other actions...<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;button class=&quot;dropdown__item dropdown__item--danger&quot;&gt;Delete&lt;/button&gt;<br />
&nbsp;&nbsp;&lt;/div&gt;<br />
&lt;/div&gt;
          </div>
        </div>
      </section>

      <section id="domains-example" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Examples</p>
            <h2 class="text-title">Domains table</h2>
          </div>
          <p class="text-muted">Reference layout = search + filters + add button + scrollable domains table.</p>
        </div>

        <div class="stack-sm">
          <p class="text-body">
            Combine the table search pill, filter chips, and dropdown menu inside a single toolbar above a
            <code class="code-inline">table--domains</code>. Keep the provider column strictly to Cloudflare, Namecheap or NameSilo
            icons; expose Zone ID, edit and delete actions via the dropdown, not inline columns.
          </p>
          <p class="text-muted">
            This example reuses the table above. To adapt it, swap row data only — do not introduce new icons or per-row
            layouts, and keep the min-width to force horizontal scroll on small screens.
          </p>
        </div>
      </section>

      <section id="buttons" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Controls</p>
            <h2 class="text-title">Buttons</h2>
          </div>
          <p class="text-muted">Primary = blue, ghost = quiet, danger = alerts, social = OAuth.</p>
        </div>

        <div class="example-grid">
          <div class="example-card stack">
            <h3 class="text-title">Primary</h3>
            <div class="row">
              <button class="btn btn--primary">Sign in</button>
              <button class="btn btn--primary">Update password</button>
            </div>
            <div class="code-block">&lt;button class="btn btn--primary"&gt;Sign in&lt;/button&gt;</div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Ghost / secondary</h3>
            <div class="row">
              <button class="btn btn--ghost">Cancel</button>
              <button class="btn btn--ghost">Back to login</button>
            </div>
            <div class="code-block">&lt;button class="btn btn--ghost"&gt;Cancel&lt;/button&gt;</div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Danger</h3>
            <div class="row">
              <button class="btn btn--danger">Delete</button>
              <button class="btn btn--ghost">Abort</button>
            </div>
            <div class="code-block">&lt;button class="btn btn--danger"&gt;Delete&lt;/button&gt;</div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Social</h3>
            <div class="row">
              <button class="btn btn--social btn--social-google">
                <span class="icon icon-brand" data-icon="brand/google" aria-hidden="true"></span>
                <span>Continue with Google</span>
              </button>
              <button class="btn btn--social btn--social-github">
                <span class="icon icon-brand" data-icon="brand/github" aria-hidden="true"></span>
                <span>Continue with GitHub</span>
              </button>
            </div>
            <div class="code-block">&lt;button class="btn btn--social btn--social-google"&gt;...&lt;/button&gt;</div>
            <p class="text-muted">Social buttons use <span class="code-inline">.btn--social-*</span> for brand colors; icons come from the sprite (no &lt;img&gt;).</p>
          </div>
        </div>
      </section>

      <section id="forms" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Inputs</p>
            <h2 class="text-title">Form fields</h2>
          </div>
          <p class="text-muted">Default, focus, error, success states reuse auth tokens.</p>
        </div>

        <div class="stack-sm">
          <h3 class="text-title">Pill vs Field</h3>
          <p class="text-body">
            Inline controls (buttons, chips, table search, tabs) keep a pill radius; form fields (inputs, selects,
            textareas) use a rectangular radius. All share the same control sizing tokens — states never change height.
          </p>
          <table class="guide-table">
            <thead>
              <tr>
                <th>Family</th>
                <th>Classes</th>
                <th>Radius token</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Pill</td>
                <td><code>.btn</code>, <code>.btn-chip</code>, <code>.table-search</code>, <code>.tabs__trigger</code></td>
                <td><code>--r-pill</code></td>
              </tr>
              <tr>
                <td>Field</td>
                <td><code>.input</code>/<code>.select</code>, <code>.textarea</code></td>
                <td><code>--r-field</code></td>
              </tr>
            </tbody>
          </table>
          <div class="code-block">
:root {<br />
&nbsp;&nbsp;--r-pill: 999px; /* inline controls */<br />
&nbsp;&nbsp;--r-field: .75rem; /* form fields */<br />
}<br />
.btn, .btn-chip, .table-search, .tabs__trigger { border-radius: var(--control-radius); }<br />
.input, .select, .select--control, .textarea { border-radius: var(--r-field); }
          </div>
        </div>

        <div class="example-grid">
          <div class="example-card stack">
            <h3 class="text-title">Email</h3>
            <div class="field" data-status="default">
              <label class="field-label" for="guide-email">Email</label>
              <input
                class="input"
                id="guide-email"
                type="email"
                placeholder="user@example.com"
              />
              <p class="field-hint">We’ll never share your email.</p>
            </div>
            <div class="code-block">
              &lt;div class="field" data-status=&quot;default&quot;&gt;<br />
              &nbsp;&nbsp;&lt;label class=&quot;field-label&quot; for=&quot;email&quot;&gt;Email&lt;/label&gt;<br />
              &nbsp;&nbsp;&lt;input class=&quot;input&quot; id=&quot;email&quot; type=&quot;email&quot; placeholder=&quot;user@example.com&quot; /&gt;<br />
              &nbsp;&nbsp;&lt;p class=&quot;field-hint&quot;&gt;We’ll never share your email.&lt;/p&gt;<br />
              &lt;/div&gt;
            </div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Password with icon</h3>
            <div class="field" data-status="error">
              <label class="field-label" for="guide-password">Password</label>
              <div class="password-field">
                <input
                  class="input is-error"
                  id="guide-password"
                  type="password"
                  placeholder="••••••••"
                />
                <button type="button" class="password-toggle" aria-label="Show password">
                  <span class="icon" data-icon="mono/eye"></span>
                </button>
              </div>
              <p class="field-error">Too weak — add numbers and symbols.</p>
            </div>
            <div class="code-block">
              &lt;div class=&quot;field&quot; data-status=&quot;error&quot;&gt;<br />
              &nbsp;&nbsp;&lt;label class=&quot;field-label&quot; for=&quot;password&quot;&gt;Password&lt;/label&gt;<br />
              &nbsp;&nbsp;&lt;div class=&quot;password-field&quot;&gt;<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&lt;input class=&quot;input is-error&quot; id=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&quot; /&gt;<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&lt;button class=&quot;password-toggle&quot; type=&quot;button&quot; aria-label=&quot;Show password&quot;&gt;<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=&quot;icon&quot; data-icon=&quot;mono/eye&quot;&gt;&lt;/span&gt;<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&lt;/button&gt;<br />
              &nbsp;&nbsp;&lt;/div&gt;<br />
              &nbsp;&nbsp;&lt;p class=&quot;field-error&quot;&gt;Too weak — add numbers and symbols.&lt;/p&gt;<br />
              &lt;/div&gt;
            </div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Success state</h3>
            <div class="field" data-status="success">
              <label class="field-label" for="guide-success">OTP code</label>
              <input class="input" id="guide-success" type="text" value="123456" />
              <p class="field-success">Looks good. Code accepted.</p>
            </div>
            <div class="code-block">
              &lt;div class=&quot;field&quot; data-status=&quot;success&quot;&gt;<br />
              &nbsp;&nbsp;&lt;label class=&quot;field-label&quot; for=&quot;otp&quot;&gt;OTP code&lt;/label&gt;<br />
              &nbsp;&nbsp;&lt;input class=&quot;input&quot; id=&quot;otp&quot; type=&quot;text&quot; value=&quot;123456&quot; /&gt;<br />
              &nbsp;&nbsp;&lt;p class=&quot;field-success&quot;&gt;Looks good. Code accepted.&lt;/p&gt;<br />
              &lt;/div&gt;
            </div>
          </div>
          <div class="example-card stack">
            <h3 class="text-title">Textarea</h3>
            <div class="field">
              <label class="field-label" for="guide-feedback">Feedback</label>
              <textarea
                class="textarea"
                id="guide-feedback"
                placeholder="Share more details…"
                aria-label="Feedback message"
              ></textarea>
              <p class="field-hint">Resizable; field radius, not pill.</p>
            </div>
            <div class="code-block">
              &lt;div class=&quot;field&quot;&gt;<br />
              &nbsp;&nbsp;&lt;label class=&quot;field-label&quot; for=&quot;feedback&quot;&gt;Feedback&lt;/label&gt;<br />
              &nbsp;&nbsp;&lt;textarea class=&quot;textarea&quot; id=&quot;feedback&quot; placeholder=&quot;Share more details…&quot;&gt;&lt;/textarea&gt;<br />
              &nbsp;&nbsp;&lt;p class=&quot;field-hint&quot;&gt;Resizable; field radius, not pill.&lt;/p&gt;<br />
              &lt;/div&gt;
            </div>
          </div>
        </div>
      </section>

      <section id="tabs" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Navigation</p>
            <h2 class="text-title">Tabs &amp; chips</h2>
          </div>
          <p class="text-muted">Reuse auth tabs for pill navigation and filters.</p>
        </div>

        <div class="stack-sm">
          <div class="btn-chip-group tabs" role="tablist" aria-label="Auth tabs sample">
            <button type="button" class="btn-chip is-active" role="tab">Login</button>
            <button type="button" class="btn-chip" role="tab">Register</button>
            <button type="button" class="btn-chip" role="tab">Forgot password?</button>
          </div>
          <p class="text-muted">
            Classes: <span class="code-inline">.btn-chip</span> + <span class="code-inline">.is-active</span>. Use for any pill navigation or filters. Tabs live inside a
            <span class="code-inline">.tabs</span> / <span class="code-inline">.btn-chip-group</span> container.
          </p>
          <div class="code-block">
            &lt;div class="tabs" role="tablist"&gt;<br />
            &nbsp;&nbsp;&lt;button class="btn-chip is-active" role="tab"&gt;Login&lt;/button&gt;<br />
            &nbsp;&nbsp;&lt;button class="btn-chip" role="tab"&gt;Register&lt;/button&gt;<br />
            &nbsp;&nbsp;&lt;button class="btn-chip" role="tab"&gt;Forgot password?&lt;/button&gt;<br />
            &lt;/div&gt;
          </div>
        </div>
      </section>

      <section id="cards" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Containers</p>
            <h2 class="text-title">Cards / panels</h2>
          </div>
          <p class="text-muted">Use <span class="code-inline">--panel</span> background and shared radii.</p>
        </div>

        <div class="example-grid">
          <div class="example-card stack-sm">
            <h3 class="text-title">Neutral panel</h3>
            <div class="card">
              <p class="text-body">Wrap auth sections and wizard steps in <span class="code-inline">.panel</span>.</p>
              <div class="card-section">
                <p class="text-muted">Panel sections use <span class="code-inline">.card-section</span> to separate rows.</p>
              </div>
            </div>
          </div>
          <div class="example-card stack-sm">
            <h3 class="text-title">Emphasized</h3>
            <div class="card card--emphasis">
              <p class="text-body">For highlighted flows (e.g., Cloudflare wizard).</p>
              <div class="card-section">
                <p class="text-muted">Same radii and padding; only border/background change.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="icons" class="card guide-section guide-stack">
        <div class="section-header">
          <div>
            <p class="eyebrow">Assets</p>
            <h2 class="text-title">Icons</h2>
          </div>
          <p class="text-muted">Sprite consumption via <span class="code-inline">.icon</span> + <span class="code-inline">data-icon</span>.</p>
        </div>

        <div class="stack-sm">
          <div class="guide-icon-row">
            <span class="icon" data-icon="mono/eye"></span>
            <span class="icon" data-icon="mono/theme-light-dark"></span>
            <span class="icon icon-brand" data-icon="brand/google"></span>
            <span class="icon icon-brand" data-icon="brand/github"></span>
            <span class="icon icon-brand" data-icon="brand/301"></span>
          </div>
          <div class="code-block">
&lt;span class="icon" data-icon="mono/eye"&gt;&lt;/span&gt;
&lt;span class="icon icon-brand" data-icon="brand/google"&gt;&lt;/span&gt;
          </div>
          <p class="text-muted">
            Full catalog: <a href="/icons-preview.html">/icons-preview.html</a>. Sprite source: <code class="code-inline">/icons-sprite.svg</code>.
            Monochrome icons inherit <code class="code-inline">currentColor</code>; brand icons stay colorful and use <code class="code-inline">.icon-brand</code>. For adding new
            icons, see <code class="code-inline">docs/icons.md</code>.
          </p>
        </div>
      </section>
    </main>

    <script>
      const root = document.documentElement;
      const tokenEls = document.querySelectorAll('[data-token-value]');
      const themeToggle = document.querySelector('[data-theme-toggle]');
      const themeLabel = document.querySelector('[data-theme-label]');
      const THEME_KEY = 'theme';

      const getTheme = () => (root.dataset.theme === 'light' ? 'light' : 'dark');

      const refreshTokenValues = () => {
        const styles = getComputedStyle(root);
        tokenEls.forEach((el) => {
          const token = el.getAttribute('data-token-value');
          const value = token ? styles.getPropertyValue(token)?.trim() : '';
          el.textContent = value || 'n/a';
        });
      };

      const updateThemeLabel = () => {
        if (!themeToggle || !themeLabel) return;
        const theme = getTheme();
        themeLabel.textContent = theme === 'dark' ? 'Switch to light theme' : 'Switch to dark theme';
        themeToggle.setAttribute('aria-pressed', theme === 'light' ? 'true' : 'false');
      };

      const setTheme = (theme, persist = true) => {
        root.dataset.theme = theme;
        if (persist) {
          try {
            window.localStorage.setItem(THEME_KEY, theme);
          } catch {
            // ignore
          }
        }
        refreshTokenValues();
        updateThemeLabel();
      };

      const resolveInitialTheme = () => {
        try {
          const stored = window.localStorage.getItem(THEME_KEY);
          if (stored === 'dark' || stored === 'light') return stored;
        } catch {
          // ignore
        }

        const explicit = root.dataset.theme;
        if (explicit === 'dark' || explicit === 'light') return explicit;

        const prefersDark = window.matchMedia?.('(prefers-color-scheme: dark)').matches;
        return prefersDark ? 'dark' : 'light';
      };

      setTheme(resolveInitialTheme(), false);

      themeToggle?.addEventListener('click', () => {
        const next = getTheme() === 'dark' ? 'light' : 'dark';
        setTheme(next);
      });

      document.querySelectorAll('[data-icon]').forEach((el) => {
        const iconName = el.getAttribute('data-icon');
        if (!iconName) return;
        const symbolId = `i-${iconName.replace('/', '-')}`;
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('aria-hidden', 'true');
        const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');
        use.setAttribute('href', `/icons-sprite.svg#${symbolId}`);
        svg.appendChild(use);
        el.appendChild(svg);
      });

      // Table search clear toggle
      const searchBars = document.querySelectorAll('[data-table-search]');

      const toggleSearchState = (wrapper) => {
        const input = wrapper.querySelector('.table-search__input');
        const hasValue = Boolean(input?.value?.trim());
        wrapper.classList.toggle('table-search--active', hasValue);
      };

      searchBars.forEach((wrapper) => {
        const input = wrapper.querySelector('.table-search__input');
        const clear = wrapper.querySelector('.table-search__clear');

        if (input) {
          input.addEventListener('input', () => toggleSearchState(wrapper));
          toggleSearchState(wrapper);
        }

        clear?.addEventListener('click', () => {
          if (!input) return;
          input.value = '';
          toggleSearchState(wrapper);
          input.focus();
        });
      });

      // Status filter demo toggle
      document.querySelectorAll('.table-filter[data-demo="status-filter"]').forEach((filter) => {
        const trigger = filter.querySelector('button.btn-chip');
        const menu = filter.querySelector('.table-filter__menu');
        const label = trigger?.querySelector('.btn-chip__label');
        const options = Array.from(menu?.querySelectorAll('.dropdown__item') || []);
        if (!trigger || !menu) return;

        const closeMenu = () => {
          trigger.classList.remove('is-open');
          trigger.setAttribute('aria-expanded', 'false');
          menu.hidden = true;
        };

        const openMenu = () => {
          trigger.classList.add('is-open');
          trigger.setAttribute('aria-expanded', 'true');
          menu.hidden = false;
        };

        menu.hidden = true;
        trigger.setAttribute('aria-expanded', 'false');

        trigger.addEventListener('click', (event) => {
          event.stopPropagation();
          const open = trigger.classList.contains('is-open');
          if (open) {
            closeMenu();
          } else {
            openMenu();
          }
        });

        options.forEach((option) => {
          option.addEventListener('click', (event) => {
            event.preventDefault();
            options.forEach((opt) => opt.classList.remove('is-active'));
            option.classList.add('is-active');
            const text = option.textContent?.trim();
            if (label && text) {
              label.textContent = `Status: ${text}`;
            }
            closeMenu();
          });
        });

        document.addEventListener('click', (event) => {
          if (!filter.contains(event.target)) {
            closeMenu();
          }
        });
      });

      // Dropdown menus
      const dropdowns = Array.from(document.querySelectorAll('[data-dropdown]'));

      const closeDropdowns = (except) => {
        dropdowns.forEach((dropdown) => {
          if (dropdown === except) return;
          dropdown.classList.remove('dropdown--open');
          dropdown.querySelector('.dropdown__trigger')?.setAttribute('aria-expanded', 'false');
        });
      };

      dropdowns.forEach((dropdown) => {
        const trigger = dropdown.querySelector('.dropdown__trigger');
        trigger?.addEventListener('click', (event) => {
          event.stopPropagation();
          const isOpen = dropdown.classList.contains('dropdown--open');
          closeDropdowns(dropdown);
          dropdown.classList.toggle('dropdown--open', !isOpen);
          trigger.setAttribute('aria-expanded', (!isOpen).toString());
        });
      });

      document.addEventListener('click', (event) => {
        const clickedDropdown = event.target?.closest?.('[data-dropdown]');
        if (!clickedDropdown) {
          closeDropdowns();
        } else if (!clickedDropdown.classList.contains('dropdown--open')) {
          closeDropdowns(clickedDropdown);
        }
      });
    </script>
  </body>
</html>
