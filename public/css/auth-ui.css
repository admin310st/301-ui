/* ============================================================
   301.st — Auth & Account UI Baseline
   File: auth-ui.css
   Depends on:
     - design-tokens.css (with :root and body theme vars)
   Purpose:
     - Unified styling for login / register / verify forms
     - Account page layout (basic)
   DO NOT hardcode colors — only use CSS variables.
============================================================ */

/* ============================================================
   1. Layout helpers for sections & containers
============================================================ */

.section {
  padding-top: var(--space-6);
  padding-bottom: var(--space-6);
}

.section-lg {
  padding-top: calc(var(--space-6) * 1.5);
  padding-bottom: calc(var(--space-6) * 1.5);
}

.container {
  width: 100%;
  max-width: var(--container-max, 1200px);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-5);
  padding-right: var(--space-5);
}

/* Centered column layout for auth/account pages */
.auth-section,
.account-section {
  min-height: 100vh;
  display: flex;
  align-items: center;
}

.auth-container,
.account-container {
  width: 100%;
}

/* ============================================================
   2. Auth panel (login/register/verify)
============================================================ */

.auth-panel {
  background: var(--bg-elevated);
  color: var(--text-main);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-subtle);
  padding: var(--space-5);
  max-width: 420px;
  margin: 0 auto;
}

.auth-title {
  font-size: var(--fs-xl);
  font-weight: var(--fw-semibold);
  margin: 0 0 0.25rem 0;
}

.auth-subtitle {
  font-size: var(--fs-sm);
  color: var(--text-muted);
  margin: 0 0 var(--space-4) 0;
}

/* Footer below the form ("Don't have an account?") */
.auth-footer {
  margin-top: var(--space-4);
  font-size: var(--fs-sm);
  color: var(--text-muted);
}

.auth-footer span {
  margin-right: 0.25rem;
}

.auth-link {
  color: var(--primary);
  text-decoration: none;
  cursor: pointer;
}

.auth-link:hover {
  color: var(--primary-hover);
  text-decoration: underline;
}

/* Horizontal row for button + extra link */
.auth-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  margin-top: var(--space-4);
}

/* ============================================================
   3. Form fields
   Usage:
     <div class="field">
       <label class="field-label">Email</label>
       <input class="input" ...>
       <p class="field-hint">...</p>
       <p class="field-error">...</p>
     </div>
============================================================ */

.field {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-bottom: var(--space-3);
}

.field-label {
  font-size: var(--fs-xs);
  font-weight: var(--fw-medium);
  color: var(--text-muted);
}

.input,
.textarea,
.select {
  width: 100%;
  font-size: var(--fs-sm);
  font-family: var(--font-sans);
  color: var(--text-main);
  background-color: var(--input-bg);
  border: 1px solid var(--input-border);
  border-radius: var(--radius);
  padding: 0.6rem 0.75rem;
  outline: none;
  transition:
    border-color var(--transition-fast),
    box-shadow var(--transition-fast),
    background-color var(--transition-fast);
}

.input::placeholder,
.textarea::placeholder {
  color: var(--text-subtle);
}

.input:focus,
.textarea:focus,
.select:focus {
  border-color: var(--input-border-focus);
  box-shadow: 0 0 0 1px var(--input-border-focus);
}

.field-hint {
  font-size: var(--fs-xs);
  color: var(--text-subtle);
}

.field-error {
  font-size: var(--fs-xs);
  color: var(--danger);
}

/* state hook: .field--error can be applied if needed */
.field--error .input {
  border-color: var(--danger);
  box-shadow: 0 0 0 1px rgba(255, 79, 110, 0.5);
}

/* ============================================================
   4. Form status messages
   This ties directly into auth module:
     - element [data-status] inside the form
     - JS sets:
        data-type="error|success|pending|loading"
============================================================ */

/* base look */
[data-status].auth-status {
  margin-top: 0.5rem;
  font-size: var(--fs-xs);
  line-height: 1.4;
  border-radius: var(--radius);
  padding: 0.4rem 0.6rem;
  border: 1px solid transparent;
}

/* error state */
[data-status].auth-status[data-type="error"] {
  color: var(--danger);
  background: var(--danger-bg);
  border-color: rgba(255, 79, 110, 0.6);
}

/* success state */
[data-status].auth-status[data-type="success"] {
  color: var(--success);
  background: var(--success-bg);
  border-color: rgba(24, 194, 122, 0.6);
}

/* pending: e.g. "Check your email" */
[data-status].auth-status[data-type="pending"] {
  color: var(--text-main);
  background: var(--warning-bg);
  border-color: rgba(255, 179, 71, 0.7);
}

/* loading: neutral text, no background */
[data-status].auth-status[data-type="loading"] {
  color: var(--text-muted);
  background: transparent;
  border-color: transparent;
}

/* ============================================================
   5. Buttons (auth context)
   NOTE: geometry is here for app, but Webstudio can override
============================================================ */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  font-size: var(--fs-sm);
  font-weight: var(--fw-medium);
  font-family: var(--font-sans);
  padding: 0.55rem 1rem;
  border-radius: var(--radius);
  border: 1px solid transparent;
  cursor: pointer;
  text-decoration: none;
  transition:
    background-color var(--transition-fast),
    border-color var(--transition-fast),
    color var(--transition-fast),
    transform var(--transition-fast);
}

/* primary auth action: login/register */
.btn-primary {
  background: var(--primary);
  color: var(--btn-text-on-dark);
}

.btn-primary:hover {
  background: var(--primary-hover);
  transform: translateY(-1px);
}

/* secondary action: cancel / logout / back */
.btn-secondary {
  background: transparent;
  color: var(--text-main);
  border-color: var(--border-strong);
}

.btn-secondary:hover {
  background: var(--primary-soft);
}

/* Cloudflare-colored CTA (не обязательно для логина, скорее для CF-связанных действий) */
.btn-cf {
  background: var(--accent-cf-bg);
  color: var(--btn-text-on-dark);
}

.btn-cf:hover {
  background: var(--accent-cf-bg-hover);
  transform: translateY(-1px);
}

/* Disabled state (generic) */
.btn[disabled],
.btn.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* ============================================================
   6. Account page layout
   For /account page and similar
============================================================ */

.account-section {
  background: var(--bg);
}

.account-container {
  max-width: 800px;
}

/* Card wrapper for account info */
.account-main .card,
.account-guard .card {
  background: var(--bg-elevated);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-subtle);
  padding: var(--space-5);
}

/* Title in account card */
.account-title {
  font-size: var(--fs-xl);
  font-weight: var(--fw-semibold);
  margin: 0 0 var(--space-4) 0;
}

/* Generic text in account page */
.account-text {
  font-size: var(--fs-sm);
  color: var(--text-muted);
  margin: 0 0 var(--space-4) 0;
}

/* Rows for "Name", "Email", etc. */
.account-row {
  display: grid;
  grid-template-columns: minmax(0, 160px) minmax(0, 1fr);
  gap: var(--space-3);
  padding: 0.35rem 0;
  border-bottom: 1px solid var(--border-subtle);
}

.account-row:last-child {
  border-bottom: none;
}

.account-label {
  font-size: var(--fs-xs);
  font-weight: var(--fw-medium);
  color: var(--text-subtle);
}

.account-value {
  font-size: var(--fs-sm);
  color: var(--text-main);
}

/* Subtitle for blocks ("Connected accounts") */
.account-subtitle {
  margin-top: var(--space-4);
  margin-bottom: 0.5rem;
  font-size: var(--fs-sm);
  font-weight: var(--fw-medium);
  color: var(--text-muted);
}

/* Logout & other actions */
.account-actions {
  margin-top: var(--space-4);
  display: flex;
  justify-content: flex-end;
}

/* Guard block (not logged in) */
.account-guard {
  max-width: 540px;
  margin: 0 auto;
}

/* ============================================================
   7. Badges / small labels (for status chips etc.)
============================================================ */

.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0.1rem 0.6rem;
  font-size: var(--fs-xs);
  font-weight: var(--fw-medium);
  border: 1px solid transparent;
}

/* Neutral muted badge ("Not configured yet") */
.badge-muted {
  background: var(--bg-soft);
  color: var(--text-subtle);
  border-color: var(--border-subtle);
}

/* Success badge, can be used for "Connected" etc. */
.badge-success {
  background: var(--success-bg);
  color: var(--success);
  border-color: rgba(24, 194, 122, 0.6);
}

/* Cloudflare-ish badge (optional) */
.badge-cf {
  background: var(--accent-cf-soft);
  color: var(--accent-cf);
  border-color: var(--accent-cf-soft);
}
